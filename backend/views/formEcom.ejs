<% title = 'Add Product' %>

<% if (item == null) { %>

    <div class="container mt-5">
        <h1 class="text-center mb-4">Add Product</h1>
        <form action="/api/store" method="post">
          <div class="form-group">
            <label for="id" class="font-weight-bold">ID:</label>
            <input type="number" name="id" id="id" class="form-control">
          </div>
          <div class="form-group">
            <label for="name" class="font-weight-bold">Name:</label>
            <input type="text" name="name" id="name" class="form-control">
          </div>
          <div class="form-group">
            <label for="description" class="font-weight-bold">Description:</label>
            <input type="text" name="description" id="description" class="form-control">
          </div>
          <div class="form-group">
            <label for="price" class="font-weight-bold">Price:</label>
            <input type="number" name="price" id="price" class="form-control">
          </div>
          <input type="submit" value="Submit" class="btn btn-primary btn-block">
        </form>
        <% if (errors && Object.keys(errors).length > 0) { %>
          <div style="color: red;">
            <p>Error(s):</p>
            <ul>
              <% Object.values(errors).forEach(err => { %>
                <li><%= err.message %></li>
              <% }); %>
            </ul>
          </div>
        <% } %>
      </div>

<% } else { %>

    <div class="container mt-5">
        <h1 class="text-center mb-4">Add Product</h1>
        <form action="/api/store/updateProduct/<%=item._id%>" method="post">
          <div class="form-group">
            <label for="id" class="font-weight-bold">ID:</label>
            <input type="number" value="<%=item.id%>" id="id" class="form-control">
          </div>
          <div class="form-group">
            <label for="name" class="font-weight-bold">Name:</label>
            <input type="text" name="name" value="<%=item.name%>" id="name" class="form-control">
          </div>
          <div class="form-group">
            <label for="description" class="font-weight-bold">Description:</label>
            <input type="text" name="description" value="<%=item.description%>" id="description" class="form-control">
          </div>
          <div class="form-group">
            <label for="price" class="font-weight-bold">Price:</label>
            <input type="number" value="<%=item.price%>" name="price" id="price" class="form-control">
          </div>
          <input type="submit" value="Submit" class="btn btn-primary btn-block">
        </form>
        <% if (errors && Object.keys(errors).length > 0) { %>
          <div style="color: red;">
            <p>Error(s):</p>
            <ul>
              <% Object.values(errors).forEach(err => { %>
                <li><%= err.message %></li>
              <% }); %>
            </ul>
          </div>
        <% } %>
      </div>
    <% } %>